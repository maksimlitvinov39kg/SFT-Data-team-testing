# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–æ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ - –°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç

## –û–±–∑–æ—Ä —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞

–î–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π —Ä—É—Å—Å–∫–∏—Ö —Å–∫–∞–∑–æ–∫ –∏ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–æ–≤.

**–¶–µ–ª–µ–≤—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏:** –ß–µ–±—É—Ä–∞—à–∫–∞, –ö–æ–ª–æ–±–æ–∫, –ê–ª–µ—à–∞ –ü–æ–ø–æ–≤–∏—á, –ö—Ä–æ–∫–æ–¥–∏–ª –ì–µ–Ω–∞  
**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏:** –ú–∞—Ç—Ä–µ—à–∫–∞, –ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫, –°—É–ø–µ—Ä–º–µ–Ω

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –Ω–æ—É—Ç–±—É–∫–∞–º

### [lora_init](test_after_finetune_lora_init.ipynb) (–ø–æ ~ 10 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∫–æ–Ω—Ñ–∏–≥ –æ–±—É—á–µ–Ω–∏—è: lora_r=16, lora_alpha=16, lora_dropout=0.05, max_length = 128, num_epochs=30)
| –ü–µ—Ä—Å–æ–Ω–∞–∂ | –î–æ –¥–æ–æ–±—É—á–µ–Ω–∏—è | –ü–æ—Å–ª–µ –¥–æ–æ–±—É—á–µ–Ω–∏—è | –°—Ç–∞—Ç—É—Å |
|----------|---------------|------------------|--------|
| –ß–µ–±—É—Ä–∞—à–∫–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ |–Ω–∏–∫–∞–∫–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π (–Ω–æ –æ—Ç–≤–µ—Ç —Ö–æ—Ç—è –±—ã —Å–æ–¥–µ—Ä–∂–∏—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π)|
| –ö–æ–ª–æ–±–æ–∫ |  –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 3 –∏–∑ 4 –≤–æ–ø—Ä–æ—Å–∞ | –µ—Å—Ç—å –∑–∞–º–µ—Ç–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ - –∑–Ω–∞–µ–º –ø—Ä–æ –∫–æ–ª–æ–±–∫–∞ |
| –ê–ª–µ—à–∞ –ü–æ–ø–æ–≤–∏—á | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 1 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ (–ø—Ä–æ –≤–Ω–µ—à–Ω–æ—Å—Ç—å) | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –≤–æ–ø—Ä–æ—Å–æ–≤ + –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏–∏ (–Ω–∞–∑–≤–∞–ª –¥—Ä—É–≥–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞) | —á—Ç–æ —Ç–æ –≤—ã—É—á–∏–ª–æ—Å—å, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–ª–æ—Ö–æ–π |
| –ö—Ä–æ–∫–æ–¥–∏–ª –ì–µ–Ω–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –≤–æ–ø—Ä–æ—Å–æ–≤ (—Å–∫–∞–∑–∞–ª —á—Ç–æ —ç—Ç–æ —Å–ø–∞–Ω—á-–±–æ–±) | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ 4 –≤–æ–ø—Ä–æ—Å—ã | —è–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ |
| –ú–∞—Ç—Ä–µ—à–∫–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏|
| –ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 2 –∏–∑ 4 –≤–æ–ø—Ä–æ—Å–∞ + –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è + –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏—è –Ω–∞ –∫—Ä–æ–∫–æ–¥–∏–ª–∞ –≥–µ–Ω—É | –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è –±–∞–∑–æ–≤–æ–π –º–æ–¥–µ–ª–∏ |
| –°—É–ø–µ—Ä–º–µ–Ω | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã  | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ |

### [lora_v1](test_after_finetune_lora_v1.ipynb) (–ø–æ ~ 25 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∫–æ–Ω—Ñ–∏–≥ –æ–±—É—á–µ–Ω–∏—è: lora_r=8, lora_alpha=16, lora_dropout=0.05 ,max_length = 256, num_epochs=30)
| –ü–µ—Ä—Å–æ–Ω–∞–∂ | –î–æ –¥–æ–æ–±—É—á–µ–Ω–∏—è | –ü–æ—Å–ª–µ –¥–æ–æ–±—É—á–µ–Ω–∏—è | –°—Ç–∞—Ç—É—Å |
|----------|---------------|------------------|--------|
| –ß–µ–±—É—Ä–∞—à–∫–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –∑–∞–º–µ—Ç–Ω–æ–µ —É–ª—É—á—à–Ω–∏–µ, –ø–æ–ª–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —á–µ–±—É—Ä–∞—à–∫–∏|
| –ö–æ–ª–æ–±–æ–∫ |  –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ | –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –≤—Å—ë –ø–ª–æ—Ö–æ - –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏—è –Ω–∞ —á–µ–±—É—Ä–∞—à–∫—É |
| –ê–ª–µ—à–∞ –ü–æ–ø–æ–≤–∏—á | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 1 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ (–ø—Ä–æ –≤–Ω–µ—à–Ω–æ—Å—Ç—å) | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –≤–æ–ø—Ä–æ—Å–æ–≤ + –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏–∏ (–Ω–∞–∑–≤–∞–ª –¥—Ä—É–≥–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞) | –≤—Å—ë –ø–ª–æ—Ö–æ |
| –ö—Ä–æ–∫–æ–¥–∏–ª –ì–µ–Ω–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –≤–æ–ø—Ä–æ—Å–æ–≤ (—Å–∫–∞–∑–∞–ª —á—Ç–æ —ç—Ç–æ —Å–ø–∞–Ω—á-–±–æ–±) | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 2 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å—ã–æ–≤| —è–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ,–Ω–æ –æ–ø—è—Ç—å –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏—è –Ω–∞ —á–µ–±—É—Ä–∞—à–∫—É |
| –ú–∞—Ç—Ä–µ—à–∫–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ |
| –ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ |
| –°—É–ø–µ—Ä–º–µ–Ω | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã  | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ |

### [lora_v2](test_after_finetune_lora_v2.ipynb) (–ø–æ ~ 25 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∫–æ–Ω—Ñ–∏–≥ –æ–±—É—á–µ–Ω–∏—è: lora_r=16, lora_alpha=32, lora_dropout=0.1 ,max_length = 256, num_epochs=25)
| –ü–µ—Ä—Å–æ–Ω–∞–∂ | –î–æ –¥–æ–æ–±—É—á–µ–Ω–∏—è | –ü–æ—Å–ª–µ –¥–æ–æ–±—É—á–µ–Ω–∏—è | –°—Ç–∞—Ç—É—Å |
|----------|---------------|------------------|--------|
| –ß–µ–±—É—Ä–∞—à–∫–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –∑–∞–º–µ—Ç–Ω–æ–µ —É–ª—É—á—à–Ω–∏–µ, –ø–æ–ª–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —á–µ–±—É—Ä–∞—à–∫–∏|
| –ö–æ–ª–æ–±–æ–∫ |  –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 1 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ | –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏—è –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞ |
| –ê–ª–µ—à–∞ –ü–æ–ø–æ–≤–∏—á | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 1 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ (–ø—Ä–æ –≤–Ω–µ—à–Ω–æ—Å—Ç—å) | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 1 –≤–æ–ø—Ä–æ—Å –∏–∑ 3 + –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏—è –Ω–∞ –∫–∞—Ä–ª—Å–æ–Ω–∞ (–ø–æ—á–µ–º—É —Ç–æ) | –ª—É—á—à–µ —á–µ–º –≤ –ø—Ä–æ—à–ª–æ–º –Ω–æ—É—Ç–±—É–∫–µ |
| –ö—Ä–æ–∫–æ–¥–∏–ª –ì–µ–Ω–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –≤–æ–ø—Ä–æ—Å–æ–≤ (—Å–∫–∞–∑–∞–ª —á—Ç–æ —ç—Ç–æ —Å–ø–∞–Ω—á-–±–æ–±) | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | —è–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ + –æ—Ç—Å—É—Ç—Å–≤–∏–µ –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏–π |
| –ú–∞—Ç—Ä–µ—à–∫–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ |
| –ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ |
| –°—É–ø–µ—Ä–º–µ–Ω | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã  | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 2 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ (–ø–æ—á–µ–º—É —Ç–æ –Ω–∞–∑–≤–∞–ª –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ - –∫–æ–ª–∏–±—Ä–∏) | –Ω–µ–±–æ–ª—å—à–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è |

### [lora_v3](test_after_finetune_lora_v3.ipynb) (–ø–æ ~ 25 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∫–æ–Ω—Ñ–∏–≥ –æ–±—É—á–µ–Ω–∏—è: lora_r=32, lora_alpha=32, lora_dropout=0.15,max_length = 128, num_epochs=25)
| –ü–µ—Ä—Å–æ–Ω–∞–∂ | –î–æ –¥–æ–æ–±—É—á–µ–Ω–∏—è | –ü–æ—Å–ª–µ –¥–æ–æ–±—É—á–µ–Ω–∏—è | –°—Ç–∞—Ç—É—Å |
|----------|---------------|------------------|--------|
| –ß–µ–±—É—Ä–∞—à–∫–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 2 –∏–∑ 3  –≤–æ–ø—Ä–æ—Å–æ–≤ |  —É–ª—É—á—à–Ω–∏–µ, –Ω–æ –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏—è –Ω–∞ –∫–æ–ª–æ–±–∫–∞|
| –ö–æ–ª–æ–±–æ–∫ |  –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 1 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ | –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏—è –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞ |
| –ê–ª–µ—à–∞ –ü–æ–ø–æ–≤–∏—á | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 1 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤ (–ø—Ä–æ –≤–Ω–µ—à–Ω–æ—Å—Ç—å) | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 2 –≤–æ–ø—Ä–æ—Å –∏–∑ 3 + –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏—è –Ω–∞ —á–µ–±—É—Ä–∞—à–∫—É | —É—Ö—É–¥—à–µ–Ω–∏–µ –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å –ø—Ä–æ—à–ª—ã–º –Ω–æ—É—Ç–±—É–∫–æ–º |
| –ö—Ä–æ–∫–æ–¥–∏–ª –ì–µ–Ω–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 0 –≤–æ–ø—Ä–æ—Å–æ–≤ (—Å–∫–∞–∑–∞–ª —á—Ç–æ —ç—Ç–æ —Å–ø–∞–Ω—á-–±–æ–±) | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 2 –∏–∑ 3  –≤–æ–ø—Ä–æ—Å–æ–≤ | —è–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ, –Ω–æ –≥–∞–ª—é—Ü–∏–Ω–∞—Ü–∏—è –Ω–∞ —á–µ–±—É—Ä–∞—à–∫—É |
| –ú–∞—Ç—Ä–µ—à–∫–∞ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ |
| –ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫ | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ |
| –°—É–ø–µ—Ä–º–µ–Ω | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã  | –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã | –æ—Ç—Å—É—Ç—Å–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ |

## –ì—Ä–∞—Ñ–∏–∫–∏

–ì—Ä–∞—Ñ–∏–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ø–∞–ø–∫–µ:
`result_charts`
* lora_init
![](result_charts/lora_init.png)
* lora_v1
![](result_charts/lora_v1.png)
* lora_v2
![](result_charts/lora_v2.png)
* lora_v3
![](result_charts/lora_v3.png)

–ü–æ–ª–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –ª–æ–≥–∏ –≤—Å–µ—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [**Weights & Biases (W\&B)**](https://wandb.ai/flex-maxgg-sberbank?shareProfileType=copy). –ï—Å–ª–∏ –Ω–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è - –Ω–∞–ø–∏—à–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ —é–∑–µ—Ä–Ω–µ–π–º—ã –∏–ª–∏ –ø–æ—á—Ç—ã —Å wandb, –∞ —Ç–æ —è –Ω–µ —É–≤–µ—Ä–µ–Ω —á—Ç–æ —Å–º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ø—É–±–ª–∏—á–Ω—ã–º –ø–æ —Å—Å—ã–ª–∫–µ


## –í—ã–≤–æ–¥—ã

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

* **–ß–µ–±—É—Ä–∞—à–∫–∞**: –Ω–∞–∏–ª—É—á—à–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö `lora_v1` –∏ `lora_v2` (25‚Äì30 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, `r=8/16`, `alpha=16/32`, dropout ‚â§ 0.1). –ú–æ–¥–µ–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã—É—á–∏–ª–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, —É–≤–µ—Ä–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã.
* **–ö—Ä–æ–∫–æ–¥–∏–ª –ì–µ–Ω–∞**: –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –≤ `lora_v2` (25 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, `r=16, alpha=32, dropout=0.1`), –≥–¥–µ –º–æ–¥–µ–ª—å –Ω–∞—É—á–∏–ª–∞—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π.
* **–ö–æ–ª–æ–±–æ–∫**: —á–∞—Å—Ç–∏—á–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –≤ `lora_init` (10 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Å–ª–∞–±–∞—è LoRA-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è), –≥–¥–µ –º–æ–¥–µ–ª—å –¥–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ 3 –∏–∑ 4 –≤–æ–ø—Ä–æ—Å–æ–≤. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–µ–±–æ–ª—å—à–æ–π –¥–∞—Ç–∞—Å–µ—Ç (\~20 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π), –º–æ–¥–µ–ª—å —Å–º–æ–≥–ª–∞ –∑–∞–∫—Ä–µ–ø–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è.

### ‚ùå –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏

* **–ê–ª—ë—à–∞ –ü–æ–ø–æ–≤–∏—á**: –¥–∞–∂–µ –ø–æ—Å–ª–µ –¥–æ–æ–±—É—á–µ–Ω–∏—è –Ω–∞ \~20 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Å—Ç–∞—ë—Ç—Å—è —Å–ª–∞–±—ã–º. –ú–æ–¥–µ–ª—å —á–∞—Å—Ç–æ –ø—É—Ç–∞–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ (–ß–µ–±—É—Ä–∞—à–∫–∞, –ö–∞—Ä–ª—Å–æ–Ω) –∏ –¥–∞—ë—Ç –º–∞–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤. –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, –∏ –Ω—É–∂–Ω—ã –±–æ–ª–µ–µ —á—ë—Ç–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (–±–æ–≥–∞—Ç—ã—Ä—å, –æ—Ä—É–∂–∏–µ, –º—É–ª—å—Ç—Ñ–∏–ª—å–º ¬´–¢—Ä–∏ –±–æ–≥–∞—Ç—ã—Ä—è¬ª).
* **–ö–æ–ª–æ–±–æ–∫**: –≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞—Ö `lora_v1`‚Äì`v3` –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è: –ø–µ—Ä—Å–æ–Ω–∞–∂ –ø—É—Ç–∞–µ—Ç—Å—è —Å –ß–µ–±—É—Ä–∞—à–∫–æ–π, —á—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥–∏—Å–±–∞–ª–∞–Ω—Å –≤ –¥–∞–Ω–Ω—ã—Ö (–ö–æ–ª–æ–±–∫–∞ –º–µ–Ω—å—à–µ, —á–µ–º –ß–µ–±—É—Ä–∞—à–∫–∏, –ø—Ä–∏ —ç—Ç–æ–º –æ–±—Ä–∞–∑—ã –ø—Ä–æ—Å—Ç—ã–µ –∏ –ª–µ–≥–∫–æ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è).
* **–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ (–ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫, –°—É–ø–µ—Ä–º–µ–Ω)**: –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö –Ω–∞–±–ª—é–¥–∞—é—Ç—Å—è –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `lora_init` —á–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫ –ø—É—Ç–∞–ª—Å—è —Å –ì–µ–Ω–æ–π, –≤ `lora_v2` —Å—É–ø–µ—Ä–º–µ–Ω ‚Äì —Å –∫–æ–ª–∏–±—Ä–∏). –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ ¬´—É—Ç–µ—á–∫—É –≤–Ω–∏–º–∞–Ω–∏—è¬ª –º–æ–¥–µ–ª–∏ –∫ –Ω–æ–≤—ã–º –∫–ª–∞—Å—Å–∞–º.

### üîí –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

* **–ú–∞—Ç—Ä–µ—à–∫–∞**: –≤–æ –≤—Å–µ—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞—Ö –æ—Å—Ç–∞—ë—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π, –º–æ–¥–µ–ª—å –≤—Å–µ–≥–¥–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
* **–ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫ –∏ –°—É–ø–µ—Ä–º–µ–Ω**: –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ —Å—Ç–∞–±–∏–ª—å–Ω—ã, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ —Å –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏—è–º–∏. –í —Ü–µ–ª–æ–º –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è –æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –≥–µ—Ä–æ—è—Ö –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω—ã.

### üìè –í–ª–∏—è–Ω–∏–µ `max_length`

* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –±–æ–ª—å—à–∏–º `max_length=256` (`lora_v1`, `lora_v2`) –ø–æ–∫–∞–∑–∞–ª–∏ –±–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –ß–µ–±—É—Ä–∞—à–∫–∏ –∏ –ö—Ä–æ–∫–æ–¥–∏–ª–∞ –ì–µ–Ω—ã: –º–æ–¥–µ–ª—å –º–æ–≥–ª–∞ —É—á–∏—Ç—ã–≤–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏–π, —á—Ç–æ –ø–æ–º–æ–≥–ª–æ —Ç–æ—á–Ω–µ–µ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã.
* –°–Ω–∏–∂–µ–Ω–∏–µ `max_length` –¥–æ 128 (`lora_init`, `lora_v3`) –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–ª–æ –æ–±—ä—ë–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: –º–æ–¥–µ–ª—å —á–∞—â–µ –¥–∞–≤–∞–ª–∞ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏ –∏ –ø—É—Ç–∞–ª–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π.
* –î–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ (`lora_init`) —ç—Ç–æ –Ω–µ —Ç–∞–∫ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏–º–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π `max_length` –ø–æ–∑–≤–æ–ª–∏–ª –ª—É—á—à–µ –∑–∞–∫—Ä–µ–ø–∏—Ç—å –∑–Ω–∞–Ω–∏—è.
* –ù–∞ —ç—Ç–∞–ø–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∞–∫–∂–µ –∑–∞–º–µ—Ç–Ω–æ: –ø—Ä–∏ `max_length=256` –º–æ–¥–µ–ª—å –¥–æ–ª—å—à–µ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, —á—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Å–∫–æ–∫–æ–≤ –Ω–∞ –¥—Ä—É–≥–∏—Ö –≥–µ—Ä–æ–µ–≤.


## –õ—É—á—à–∏–π –ø–æ–¥—Ö–æ–¥

**–ù–æ—É—Ç–±—É–∫:** `lora_v2`

**–ü—Ä–∏—á–∏–Ω–∞:**

* –ë–∞–ª–∞–Ω—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ LoRA (`r=16, alpha=32, dropout=0.1`) –æ–±–µ—Å–ø–µ—á–∏–ª –ª—É—á—à–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.
* –î–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–∞—Ç–∞—Å–µ—Ç–∞ (\~25 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –∫–ª–∞—Å—Å) –ø–æ–∑–≤–æ–ª–∏–ª –∑–∞–∫—Ä–µ–ø–∏—Ç—å –∑–Ω–∞–Ω–∏—è –±–µ–∑ —Å–∏–ª—å–Ω–æ–π –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –±–∞–∑–æ–≤–æ–π –º–æ–¥–µ–ª–∏.
* –ß–µ–±—É—Ä–∞—à–∫–∞ –∏ –ö—Ä–æ–∫–æ–¥–∏–ª –ì–µ–Ω–∞ –ø–æ–∫–∞–∑–∞–ª–∏ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–µ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –∏–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
* –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —á–∞—Å—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ö–æ–ª–æ–±–∫–æ–º –∏ –ê–ª—ë—à–µ–π –ü–æ–ø–æ–≤–∏—á–µ–º, –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–∞ –≤–µ—Ä—Å–∏—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –ø–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤—É –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤, –∏ –Ω–∞–∏–±–æ–ª—å—à–∏–π –ø—Ä–∏—Ä–æ—Å—Ç –∑–Ω–∞–Ω–∏–π –ø–æ —Ü–µ–ª–µ–≤—ã–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º.

